---
// WHY AlbumCard.astro: Reusable album thumbnail card component for homepage grid
// WHY hover effects: Enhances UX, provides visual feedback, matches reference portfolio design

import { albumUrl } from '../lib/urls';

interface Album {
	id: string;
	title: string;
	date: string;
	cover: string;
	category?: string;
}

interface Props {
	album: Album;
}

const { album } = Astro.props;
---

<a href={albumUrl(album.id)} class="block group">
	<article class="relative overflow-hidden rounded-lg bg-white/5">
		<!-- WHY aspect-[4/3]: Standard photo ratio, consistent grid layout -->
		<!-- WHY overflow-hidden: Contains scaled image during hover effect -->
		<div class="aspect-[4/3] overflow-hidden">
			<!--
				WHY group-hover:scale-105: Slight zoom on hover for visual feedback
				WHY transition-transform duration-300: Smooth animation, not jarring
			-->
			<img
				src={album.cover}
				alt={album.title}
				class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
			/>
		</div>

		<!-- WHY absolute positioning: Overlay text on image without affecting layout -->
		<!-- WHY gradient-to-t: Fades text background from opaque to transparent for readability -->
		<div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4">
			<h2 class="text-lg font-bold mb-1">
				{album.title}
			</h2>
			<!-- WHY localeDateString ru-RU: Russian date format matching project language -->
			<p class="text-sm text-text-secondary">
				{new Date(album.date).toLocaleDateString('ru-RU', {
					year: 'numeric',
					month: 'long',
					day: 'numeric',
				})}
			</p>
		</div>
	</article>
</a>
